<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Scott Conway | About</title>

    <!-- Bootstrap Core CSS - Uses Bootswatch Flatly Theme: http://bootswatch.com/flatly/ -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="css/freelancer.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" type="text/css" href="./css/prettify.css">
    <link rel="stylesheet" type="text/css" href="./css/sons-of-obsidian.css">
    <link href="http://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
    <link href="http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body  onload="prettyPrint()" id="page-top" class="index">

    <!-- Navigation -->
    <nav class="navbar navbar-default navbar-fixed-top">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#page-top">Scott Conway</a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">
                    <li class="hidden">
                        <a href="#page-top"></a>
                    </li>
                    <li class="page-scroll">
                        <a href="#portfolio">Other Work</a>
                    </li>
                    <li class="page-scroll">
                        <a href="#about">About</a>
                    </li>
                    <li class="page-scroll">
                        <a href="#contact">Contact</a>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container-fluid -->
    </nav>

    <!-- Header -->
    <header>
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <img class="img-responsive" src="img/profile.png" alt="">
                    <div class="intro-text">
                        <span class="name">Scott Conway</span>
                        <hr class="star-light">
                        <span class="skills">Web Developer - Student - User Experience Designer</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Portfolio Grid Section -->
    <section id="portfolio">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h2>Other Work</h2>
                    <hr class="star-primary">
                </div>
            </div>
            <div class="row">
                <div class="col-sm-4 portfolio-item">
                    <a href="#portfolioModal1" class="portfolio-link" data-toggle="modal">
                        <div class="caption">
                            <div class="caption-content">
                                <i class="fa fa-search-plus fa-3x"></i>
                            </div>
                        </div>
                        <img src="./images/shell.png" class="img-responsive" alt="">
                    </a>
                </div>
                <div class="col-sm-4 portfolio-item">
                    <a href="#portfolioModal2" class="portfolio-link" data-toggle="modal">
                        <div class="caption">
                            <div class="caption-content">
                                <i class="fa fa-search-plus fa-3x"></i>
                            </div>
                        </div>
                        <img src="img/portfolio/cake.png" class="img-responsive" alt="">
                    </a>
                </div>
                <div class="col-sm-4 portfolio-item">
                    <a href="#portfolioModal3" class="portfolio-link" data-toggle="modal">
                        <div class="caption">
                            <div class="caption-content">
                                <i class="fa fa-search-plus fa-3x"></i>
                            </div>
                        </div>
                        <img src="img/portfolio/circus.png" class="img-responsive" alt="">
                    </a>
                </div>
                <div class="col-sm-4 portfolio-item">
                    <a href="#portfolioModal4" class="portfolio-link" data-toggle="modal">
                        <div class="caption">
                            <div class="caption-content">
                                <i class="fa fa-search-plus fa-3x"></i>
                            </div>
                        </div>
                        <img src="img/portfolio/game.png" class="img-responsive" alt="">
                    </a>
                </div>
                <div class="col-sm-4 portfolio-item">
                    <a href="#portfolioModal5" class="portfolio-link" data-toggle="modal">
                        <div class="caption">
                            <div class="caption-content">
                                <i class="fa fa-search-plus fa-3x"></i>
                            </div>
                        </div>
                        <img src="img/portfolio/safe.png" class="img-responsive" alt="">
                    </a>
                </div>
                <div class="col-sm-4 portfolio-item">
                    <a href="#portfolioModal6" class="portfolio-link" data-toggle="modal">
                        <div class="caption">
                            <div class="caption-content">
                                <i class="fa fa-search-plus fa-3x"></i>
                            </div>
                        </div>
                        <img src="img/portfolio/submarine.png" class="img-responsive" alt="">
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section class="success" id="about">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h2>About</h2>
                    <hr class="star-light">
                </div>
            </div>
            <div class="row">
                <div class="col-xs-12">
                    <p>This website is intended to serve as a portfolio for the work that I have done, both in and out of school. This page was created by heavily editing the bootstrap freelancer template, while the others were built from the ground up. Ideally, this page will help to give an idea of my areas of interest. </p>
                </div>
                <div class="col-lg-8 col-lg-offset-2 text-center">
                    <a href="./assets/resume.pdf" class="btn btn-lg btn-outline">
                        <i class="fa fa-download"></i> Resume
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h2>Contact Me</h2>
                    <hr class="star-primary">
                </div>
            </div>
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2">
                    <!-- To configure the contact form email address, go to mail/contact_me.php and update the email address in the PHP file on line 19. -->
                    <!-- The form should work on most web servers, but if the form is not working you may need to configure your web server differently. -->
                    <form name="sentMessage" id="contactForm" novalidate>
                        <div class="row control-group">
                            <div class="form-group col-xs-12 floating-label-form-group controls">
                                <label>Name</label>
                                <input type="text" class="form-control" placeholder="Name" id="name" required data-validation-required-message="Please enter your name.">
                                <p class="help-block text-danger"></p>
                            </div>
                        </div>
                        <div class="row control-group">
                            <div class="form-group col-xs-12 floating-label-form-group controls">
                                <label>Email Address</label>
                                <input type="email" class="form-control" placeholder="Email Address" id="email" required data-validation-required-message="Please enter your email address.">
                                <p class="help-block text-danger"></p>
                            </div>
                        </div>
                        <div class="row control-group">
                            <div class="form-group col-xs-12 floating-label-form-group controls">
                                <label>Phone Number</label>
                                <input type="tel" class="form-control" placeholder="Phone Number" id="phone" required data-validation-required-message="Please enter your phone number.">
                                <p class="help-block text-danger"></p>
                            </div>
                        </div>
                        <div class="row control-group">
                            <div class="form-group col-xs-12 floating-label-form-group controls">
                                <label>Message</label>
                                <textarea rows="5" class="form-control" placeholder="Message" id="message" required data-validation-required-message="Please enter a message."></textarea>
                                <p class="help-block text-danger"></p>
                            </div>
                        </div>
                        <br>
                        <div id="success"></div>
                        <div class="row">
                            <div class="form-group col-xs-12">
                                <button type="submit" class="btn btn-success btn-lg">Send</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="text-center">
        <div class="footer-above">
            <div class="container">
                <div class="row">
                    <div class="footer-col col-md-4">
                        <h3>Location</h3>
                        <p>Northeaster University, Boston, MA</p>
                    </div>
                    <div class="footer-col col-md-4">
                        <h3>Around the Web</h3>
                        <ul class="list-inline">
                            <li>
                                <a href="#" class="btn-social btn-outline"><i class="fa fa-fw fa-facebook"></i></a>
                            </li>
                            <li>
                                <a href="#" class="btn-social btn-outline"><i class="fa fa-fw fa-google-plus"></i></a>
                            </li>
                            <li>
                                <a href="#" class="btn-social btn-outline"><i class="fa fa-fw fa-twitter"></i></a>
                            </li>
                            <li>
                                <a href="#" class="btn-social btn-outline"><i class="fa fa-fw fa-linkedin"></i></a>
                            </li>
                            <li>
                                <a href="#" class="btn-social btn-outline"><i class="fa fa-fw fa-dribbble"></i></a>
                            </li>
                        </ul>
                    </div>
                    <div class="footer-col col-md-4">
                        <h3>About Me</h3>
                        <p>daven baruscheta <a href="./puzzle-fill.html">home</a>.</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="footer-below">
            <div class="container">
                <div class="row">
                    <div class="col-lg-12">
                        Copyright &copy; Scott Conway 2015
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- Scroll to Top Button (Only visible on small and extra-small screen sizes) -->
    <div class="scroll-top page-scroll visible-xs visble-sm">
        <a class="btn btn-primary" href="#page-top">
            <i class="fa fa-chevron-up"></i>
        </a>
    </div>

    <!-- Portfolio Modals -->
    <div class="portfolio-modal modal fade" id="portfolioModal1" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-content">
            <div class="close-modal" data-dismiss="modal">
                <div class="lr">
                    <div class="rl">
                    </div>
                </div>
            </div>
            <div class="container">
                <div class="row">
                    <div class="col-lg-8 col-lg-offset-2">
                        <div class="modal-body">
                            <h2 class="title--hero__dark">Command Line Interpreter</h2>
                            <!-- <hr class="star-primary">
                            <img src="img/portfolio/cabin.png" class="img-responsive img-centered" alt=""> -->
                            <p>This project was done as part of a systems course. It implements a simple command interpreter(shell/terminal) that can handle most commands execvp() can. The while loop structure in the main function was written by Alan Mislove, and the rest of the code was written by myself(Scott Conway) and Zack Kniebel using the C programming language.</p>
                            <pre class="code prettyprint">
 /**
 * CS3600, Spring 2013
 *
 * This code implements a simple command interpreter (shell/terminal) 
 * for the UNIX operating system.
 * 
 */

#include "3600sh.h"
#include <errno.h>
#define USE(x) (x) = (x)


void delete_char(char *str, int index) {    
    char *temp = (char*)calloc(strlen(str) + 1, sizeof(char));
    strcpy(temp, str);
    
    int i = 0;
    int hitIndex;
    while (str[i] != '\0') {
        if (i == index) {
            hitIndex = 1;
        }
        if (hitIndex == 1) {
            str[i] = temp[i + 1];
        }
        
        i++;
    }
    free(temp);
}


/*
*  Given a pointer to a string, this function reverses the string so the
*  pointer to the beginning of the string now points to the last character
*/
void reverse(char *str) {
  int len = strlen(str);
  char rev[len];
  int i = 0;
  
  // loop through each character and place it on the corresponding
  // side of the reversed string
  while (i < len) {
    rev[len - i - 1] = str[i];
    i++;
  }
  
  rev[len] = '\0';
  strcpy(str,rev);
}


/*
* Given a pointer to a line and the location of the end of the word, 
* this function returns a pointer to the word between the two boundaries
*/
char *get_word(char *begin, char **end_word)
{

  char *end = begin; 
  //skip over any spaces leading to the word
  while( *begin == ' ')
    begin++;
  //the end of the word will point to the beginning for now
  end = begin; 
  //move our end of the word pointer forward until we hit a special character
  while( (*end != ' ') && (*end != '\0') && (*end != '\n')) {
        if (*end == '\\' && *(end + 1) == '\\') {
            delete_char(end, 0);
            *end = ' ';
        }
        end++; 
  }
  //if there are no more words
  if(end == begin)
    return NULL;
  //null terminate the word, then update the location of the end of the word
  *end = '\0';
  *end_word = end; 
  //begin now points to a null terminated string, so return it
  return begin; 

}//end get_word()


/*
* Given a pointer to a line of input and an array of pointers, this function 
* breaks the line into a command and arguments and sets them up in the array
*/
void get_args(char line[], char *args[])
{

  char *end_word; 
  char *cmd_ptr = line;
  int  i = 0;
  
  while( (cmd_ptr = get_word(cmd_ptr, &end_word)) != NULL )
  { 
    args[i] = cmd_ptr; 
    cmd_ptr = end_word + 1;
    i++; 
  }

  args[i] = NULL; //safety byte
  
}//end get_args()


/*
*  Given a pointer to an input line, this function first reverses the line
*  to check if an ampersand appears as the last argument in the input line.
*  This function then checks to make sure that there are no other ampersands 
*  in the line and prints an error if any others are found or syntactically 
*  incorrect.
*/
int find_amp(char *line) {
    reverse(line);
    
    int ampFound = 0;
    int i = 0;
    int nonAmpFoundFirst = 0;
    
    // loop through each character in the input line and check to make 
    // sure an ampersand appears correctly if there is one
    while(i < ((int) strlen(line))) {
        if (line[i] == '&') {
            if ((line[i + 1] != ' ' || ampFound == 1 || nonAmpFoundFirst == 1) && line[i + 1] != '\\') {
                printf("Error: Invalid syntax.\n");
                return -1;
            } else {
                delete_char(line, i);
                ampFound = 1;
            }
        } else if (line[i] != ' ') {
            nonAmpFoundFirst = 1;
        }
        
        i++;
    }
    
    // reverse the line one more time so it's in the correct order
    reverse(line);  
    
    return ampFound;
}//end find_amp()


/*
*  given a pointer to an input line, this function loops through each 
*  character, looking for an escape character. If one is found, it is replaced
*  by the proper literal, and an error is thrown if a non supported escape
*  sequence is encountered. 
*/
int sanitize(char *line) {  

    int i = 0;
    int shouldLoop = 1;
    int foundBS = 0;
    
    //loop until we hit the end of the line
    while (shouldLoop == 1) {
        if (line[i] == '\0') {
            shouldLoop = 0;
        } else {    
            if (foundBS == 1) {// if we hit a backslash
                foundBS = 0;
                //make sure the next character is supported
                if ((line[i] != '&') && (line[i] != '\\') && 
                    (line[i] != ' ') && (line[i] != 't')) {
                    printf("Error: Unrecognized escape sequence.\n");
                    return -1;
                } else if (line[i] == ' ') {
                    line[i] = '\\';
                } else {
                    if (line[i] == 't') {
                        line[i] = '\t';
                    }
                    
                    delete_char(line, i - 1);
                    i--;
                }   
            } else if (line[i] == '\\') {
                foundBS = 1;
            } else if (line[i] == '&') {
                printf("Error: Invalid syntax.\n");
                return -1;
            }
        } 
        i++;        
    }
    
    return 0;

}//end sanitize()



/*
* Given an array of arguments, this function makes sure that a request to 
* redirect I/O correctly specifies a file name and appears properly
*/
int validate_redirection(char *args[]) {
    int foundOut = 0;
    int foundIn = 0;
    int i = 0;
    
    //loop through all of the arguments
    while (args[i] != NULL) {
        if (strcmp(args[i],">") == 0) {
            // if we've found a redirect for output, check if the 
            // next arfument(s) are as expected, and error if not
            if ((foundOut == 1 || args[i + 1] == NULL || 
                 strcmp(args[i + 1], "\0") == 0 || 
                 strcmp(args[i + 1], " ") == 0) &&
                 (args[i + 2] != NULL && 
                 strcmp(args[i + 2], "<") != 0)) { 
                return -1;
            } else {
                foundOut = 1;
            }
        } else if (strcmp(args[i],"<") == 0) {
            // if we've found a redirect for input, check if the 
            // next arfument(s) are as expected, and error if not
            if ((foundIn == 1 || args[i + 1] == NULL || 
                 strcmp(args[i + 1], "\0") == 0 || 
                 strcmp(args[i + 1], " ") == 0) &&
                 (args[i + 2] != NULL && 
                 strcmp(args[i + 2], ">") != 0)) { 
                return -1;
            } else {
                foundIn = 1;
            }
        } 
        i++;
    }
    
    return 0;
}


/*
*  Given an array of arguments, this function executes the first argument with
*  the following elements as parameters, and implements support for 
*  running processes in the background and I/O redirection
*/
void execute(char *args[], int runInBackground)
{

  char* filename1 = (char*)calloc(MAXLINE, sizeof(char));
  char* filename2 = (char*)calloc(MAXLINE, sizeof(char));
  
  int fd1, fd2;
  
  pid_t pid = fork();
  
  // if we're in the child process.....
  if( pid == 0 ) { 
  
    int i = 0;
    int redirect_in = 0;
    int redirect_out = 0;
    int redirError = 0;
    int foundIn = 0;
    int foundOut = 0;
    
    //loop through all of the arguments
    while (args[i] != NULL) {
        if (strcmp(args[i],">") == 0) {
            // error if we find an output in the wrong place
            if ((foundOut == 1 || args[i + 1] == NULL || 
                 strcmp(args[i + 1], "\0") == 0 || 
                 strcmp(args[i + 1], " ") == 0) &&
                 (args[i + 2] != NULL || 
                 strcmp(args[i + 2], "<") != 0)) { 
                redirError = 1;
            } else {
                //our next argument must be the file name
                foundOut = 1;
                args[i] = NULL;
                strcpy(filename2, args[i + 1]);
                redirect_out = 1;
            }
        } else if (strcmp(args[i],"<") == 0) {
            // error if we find an input in the wrong place
            if ((foundIn == 1 || args[i + 1] == NULL || 
                 strcmp(args[i + 1], "\0") == 0 || 
                 strcmp(args[i + 1], " ") == 0) &&
                 (args[i + 2] != NULL || 
                 strcmp(args[i + 2], ">") != 0)) { 
                redirError = 1;
            } else {
                //our next argument must be the file name
                foundIn = 1;
                args[i] = NULL;
                strcpy(filename1, args[i + 1]);
                redirect_in = 1;
            }
        } 
        i++;
    }

    // if we have not recieved an error, attempt to open the requested file
    if (redirError != 1) {
            if (redirect_in == 1) {
                fd1 = open(filename1, O_RDONLY);
                if (fd1 < 0) {
                    printf("Error: Unable to open redirection file.\n");
                    do_exit();
                }    
                if (dup2(fd1, 0) != 0) {
                    printf("Error: We've been duped?!\n");
                    do_exit();
                }   
                close(fd1);
            }
    
            if (redirect_out == 1) {
                fd2 = open(filename2, O_WRONLY | O_TRUNC | O_CREAT, 0644);
                if (fd2 < 0) {
                    printf("Error: Unable to open redirection file.\n");
                    do_exit();
                }    
                if (dup2(fd2, 1) != 1) {
                    printf("Error: We've been duped?!\n");
                    do_exit();
                }   
                close(fd2);
            }
    
            if(execvp(args[0], args) < 0) {
                printf("Error: Command not found.\n");
                do_exit();
            }
        } else {
            printf("Error: Invalid syntax.\n");
            do_exit();
        }       
    
        free(filename1);
        free(filename2);

  } else if( pid < 0 ) {// something went wrong while forking
        printf("%s\n", "Fork Error: What the fork?!");
        do_exit();
  } else {// were in the parent process
        if (runInBackground == 0) {
            waitpid(pid, NULL, WCONTINUED|WUNTRACED); 
        }
  }
  
}//end execute()


int main(int argc, char*argv[]) {
  // Code which sets stdout to be unbuffered
  // This is necessary for testing; do not change this line
  USE(argc);
  USE(argv);
  setvbuf(stdout, NULL, _IONBF, 0); 
  
  char *host = (char*)calloc(MAXLINE + 1, sizeof(char));
  char *user = (char*)calloc(MAXLINE + 1, sizeof(char));
  char c;
  int inputChar;
  int lineIndex, i;

  //kindly asks for the host name and stores it in the variable 'host'
  gethostname(host, MAXLINE);
  strcpy(user, getenv("USER"));

  while (1) 
  {         
    // allocate space for our array of arguments
    char **args = (char**)calloc(MAXARGS, sizeof(char*));
    // allocate space for each individual argument
    for (i = 0; i < MAXARGS; i++) {
        args[i] = (char*)calloc(MAXLINE, sizeof(char));
    }
    i = 0;
    
    char *line = (char*)calloc(MAXLINE + 1, sizeof(char));
    lineIndex = 0;
    
    printf("%s@%s:%s> ", user, host, getcwd(0,0));
        fflush(stdout);
        
    inputChar = getchar();
    // fill the line up with each character collected 
    while (inputChar != EOF && (c = (char)inputChar) != '\n') {
        // pad redirect characters so they are not part of a word
        if (c == '>' || c == '<') {
            line[lineIndex] = ' ';
            lineIndex++;
            line[lineIndex] = c;
            lineIndex++;
            line[lineIndex] = ' ';
        } else {
            line[lineIndex] = c;
            }
        lineIndex++;
        inputChar = getchar();
    }
    line[lineIndex] = '\0';
    
    // check for any ampersand syntax errors
    int ampFound = find_amp(line);
    int errored = ampFound < 0 || sanitize(line) < 0 ? 1 : 0;
    
        get_args(line, args);
        
        if (errored == 0) {
            validate_redirection(args);
        }
        
        // check for any commands to exit, and execute the command otherwise
        if (args[0] != NULL && errored == 0) {
            if (strcmp(args[0], "exit") == 0){
                do_exit();
            }else if (strcmp(args[0], "quit") == 0){
                do_exit();
            }else{
                execute(args, ampFound);  
            }
        } else {
            if (c == EOF || c == '\n') {
                do_exit();
            }
        }
        free(line);
        
    //free(args);
        if (c != '\n') {
            free(args);
        do_exit();
    }
  }
  free(host);
  free(user);
  return 0;
}//end of main()

// Function which exits, printing the necessary message
void do_exit() {
  printf("So long and thanks for all the fish!\n");
  exit(0);
}

                            </pre>

                            <ul class="list-inline item-details">
                                <li>Client:
                                    <strong><a href="http://startbootstrap.com">Home</a>
                                    </strong>
                                </li>
                                <li>Date:
                                    <strong><a href="http://startbootstrap.com">Portfolio</a>
                                    </strong>
                                </li>
                                <li>Service:
                                    <strong><a href="http://startbootstrap.com">Miscellaneous</a>
                                    </strong>
                                </li>
                            </ul>
                            <button type="button" class="btn btn-default" data-dismiss="modal"><i class="fa fa-times"></i> Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="portfolio-modal modal fade" id="portfolioModal2" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-content">
            <div class="close-modal" data-dismiss="modal">
                <div class="lr">
                    <div class="rl">
                    </div>
                </div>
            </div>
            <div class="container">
                <div class="row">
                    <div class="col-lg-8 col-lg-offset-2">
                        <div class="modal-body">
                            <h2 class="title--hero__dark">Java Guitar Project</h2>
                            <!-- <hr class="star-primary">
                            <img src="img/portfolio/cabin.png" class="img-responsive img-centered" alt=""> -->
                            <p>This project was done as part of an Object Oriented programming class. It is an implementation of a simple guitar playing program that will allow you to select the frets you wish, and then play that note.</p>
                            <hr class="star-primary">
                            <pre class="code prettyprint">
import world.*;
import world.sound.tunes.*;
import image.*;
import tester.*;
import java.util.*;

//Represents a Grid Position
abstract class AGrid extends Posn{
    int WIDTH_CELLS = 20;
    int HEIGHT_CELLS = 15;
    
    int WIDTH = this.WIDTH_CELLS * 5;
    int HEIGHT = this.HEIGHT_CELLS * 6;
    
    AGrid(int x, int y){
        super(x,y);
    }
   
}

//represents one of the buttons on the display
class Button extends AGrid{
    boolean clicked;
    
    Image acnylon = new Overlay(new Text("Acoustic - Nylon", 15, "Black"), 
            new Rectangle(150, 30, "solid", "red"));
    
    Image acsteel = new Overlay(new Text("Acoustic - Steel", 15, "Black"), 
            new Rectangle(150, 30, "solid", "red"));
    
    Image elclean = new Overlay(new Text("Electric - Clean", 15, "Black"), 
            new Rectangle(150, 30, "solid", "red"));
    
    Image eljazz = new Overlay(new Text("Electric - Jazz", 15, "Black"), 
            new Rectangle(150, 30, "solid", "red"));
    
    Button(int x, int y, boolean clicked){
        super(x, y);
        this.clicked = clicked;
    }
    
    public Scene draw(int i, Scene scn){
        if(i == 0){
            return scn.placeImage(acnylon, x, y);
        }
        else{
            if(i == 1){
                return scn.placeImage(acsteel, x, y);
            }
            else{
                if(i == 2){
                    return scn.placeImage(elclean, x, y);
                }
                else{
                    return scn.placeImage(eljazz, x, y);
                }
            }
        }
    }
    
}


//represents a fret on a guitar neck
class Fret extends AGrid{
    boolean clicked;
    Note note;
    int string;
    
     Image fret = new Overlay(new Rectangle(3, 60, "solid", "gray"),
             new OverlayXY(new Rectangle(30, 55, "solid", "brown"), 0, 55, 
             new Rectangle(30, 5, "solid", "black")));
     
     Image fretclicked = new Overlay(new Circle(8, "solid", "green"),
             new Overlay(new Rectangle(3, 60, "solid", "gray"), 
             new OverlayXY(new Rectangle(30, 55, "solid", "brown"), 0, 55, 
                     new Rectangle(30, 5, "solid", "black"))));
     
     Image openclicked = new Overlay(new Circle(8, "solid", "green"), 
             new Overlay(new Rectangle(3, 10, "solid", "gray"), 
             new Rectangle(30, 10, "solid", "black" )));
     
     Image open = new Overlay(new Rectangle(3, 10, "solid", "gray"), 
             new Rectangle(30, 10, "solid", "black" ));
    
    Fret(int x, int y, boolean clicked, Note note, int string){
        super(x, y);
        this.clicked = clicked;
        this.note = note;
        this.string = string;
    }

    /** Determines if the fret has been clicked on mouse event*/
    public boolean isClicked(int x2, int y2){
        if(this.y < 40){
            return  (x2 >= this.x-15)&&(x2 <= this.x + 15)&&
                    (y2 >= this.y-5)&&(y2 <= this.y + 5);   
        }
        else{
            return  (x2 >= this.x-15)&&(x2 <= this.x + 15)&&
                    (y2 >= this.y-22)&&(y2 <= this.y + 22); 
        }
    }
    
    /** Toggles click from off to on and vice versa */
    public void toggleClick(){
            this.clicked = !this.clicked;
    }

    
    /** Draws this fret at its coordinates on the scene. */
    public Scene drawFret(Scene scn){
        if(this.y < 40){
            if(this.clicked){
                return scn.placeImage(openclicked, x, y);
            }
            else{
                return scn.placeImage(open, x, y);
            }
        }
        else{
            if(this.clicked){
                return scn.placeImage(fretclicked, x, y);
            }
            else{
                return scn.placeImage(fret, x, y);
            }
    }
    }

}



//represents our guitar
class GuitarWorld extends VoidWorld{
    ArrayList<Fret> frets;
    ArrayList<Note> chord;
    MusicBox m = new MusicBox();
    int inst;
    Button buttons = new Button(600, 550, false);
        
    GuitarWorld(ArrayList<Fret> frets){
        this.frets = frets;
    }
    
     public GuitarWorld initGuitar(){        
            this.frets = new ArrayList<Fret>(); 
            frets.add(new Fret(50, 5, true, new Note("E2n1"), 0));
            frets.add(new Fret(81, 5, true, new Note("A3n1"), 1));
            frets.add(new Fret(112, 5, true, new Note("D3n1"), 2));
            frets.add(new Fret(143, 5, true, new Note("G3n1"), 3));
            frets.add(new Fret(174, 5, true, new Note("B4n1"), 4));
            frets.add(new Fret(205, 5, true, new Note("E4n1"), 5));
            frets.add(new Fret(50, 40, false, new Note("F2n1"), 0));
            frets.add(new Fret(81, 40, false, new Note("A3sn1"), 1));
            frets.add(new Fret(112, 40, false, new Note("D3sn1"), 2));
            frets.add(new Fret(143, 40, false, new Note("G3sn1"), 3));
            frets.add(new Fret(174, 40, false, new Note("C4n1"), 4));
            frets.add(new Fret(205, 40, false, new Note("F4n1"), 5));
            frets.add(new Fret(50, 100, false, new Note("F2sn1"), 0));
            frets.add(new Fret(81, 100, false, new Note("B3n1"), 1));
            frets.add(new Fret(112, 100, false, new Note("E3n1"), 2));
            frets.add(new Fret(143, 100, false, new Note("A4n1"), 3));
            frets.add(new Fret(174, 100, false, new Note("C4sn1"), 4));
            frets.add(new Fret(205, 100, false, new Note("F4sn1"), 5));
            frets.add(new Fret(50, 160, false, new Note("G2n1"), 0));
            frets.add(new Fret(81, 160, false, new Note("C3n1"), 1));
            frets.add(new Fret(112, 160, false, new Note("F3n1"), 2));
            frets.add(new Fret(143, 160, false, new Note("A4sn1"), 3));
            frets.add(new Fret(174, 160, false, new Note("D4n1"), 4));
            frets.add(new Fret(205, 160, false, new Note("G4n1"), 5));
            frets.add(new Fret(50, 220, false, new Note("G2sn1"), 0));
            frets.add(new Fret(81, 220, false, new Note("C3sn1"), 1));
            frets.add(new Fret(112, 220, false, new Note("F3sn1"), 2));
            frets.add(new Fret(143, 220, false, new Note("B4n1"), 3));
            frets.add(new Fret(174, 220, false, new Note("D4sn1"), 4));
            frets.add(new Fret(205, 220, false, new Note("G4sn1"), 5));
            frets.add(new Fret(50, 280, false, new Note("A3n1"), 0));
            frets.add(new Fret(81, 280, false, new Note("D3n1"), 1));
            frets.add(new Fret(112, 280, false, new Note("G3n1"), 2));
            frets.add(new Fret(143, 280, false, new Note("C4n1"), 3));
            frets.add(new Fret(174, 280, false, new Note("E4n1"), 4));
            frets.add(new Fret(205, 280, false, new Note("A5n1"), 5));
            frets.add(new Fret(50, 340, false, new Note("A3sn1"), 0));
            frets.add(new Fret(81, 340, false, new Note("D3sn1"), 1));
            frets.add(new Fret(112, 340, false, new Note("G3sn1"), 2));
            frets.add(new Fret(143, 340, false, new Note("C4sn1"), 3));
            frets.add(new Fret(174, 340, false, new Note("F4n1"), 4));
            frets.add(new Fret(205, 340, false, new Note("A5sn1"), 5));
            frets.add(new Fret(50, 400, false, new Note("B3n1"), 0));
            frets.add(new Fret(81, 400, false, new Note("E3n1"), 1));
            frets.add(new Fret(112, 400, false, new Note("A4n1"), 2));
            frets.add(new Fret(143, 400, false, new Note("D4n1"), 3));
            frets.add(new Fret(174, 400, false, new Note("F4sn1"), 4));
            frets.add(new Fret(205, 400, false, new Note("B5n1"), 5));
            /** These lines change midi channels:
             * 0 = Acoustic Guitar nylon
             * 1 = Acoustic Guitar steel
             * 2 = Electric guitar clean
             * 3 = Electric guitar jazz */
            int[] ilist = {25, 26, 28, 29, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12};
            m.initChannels(ilist);
            this.inst = 0;
            return this;
         }
     
        
     public Scene onDraw(){ 
         
         /** NOTES ON THE FRET STUFF:
          * 
          * Each fret image is in total 30 by 60
          * Each fret is placed 30 + 1 pixels to the right to create white border
          */
         
         Scene result = new EmptyScene(700, 600);
          result = result.placeImage(new Text("Guitar Chord Player", 40, "black"), 450, 40);
          result = result.placeImage(new Overlay (new Circle(80, "solid", "black" ), 
                  new Circle(250, "solid", "chocolate" )), 127, 600);
          result = result.placeImage(new Rectangle(190, 400, "solid", "chocolate"), 127, 200);
          result = result.placeImage(new Rectangle(3, 200, "solid", "gray"), 50, 500);
          result = result.placeImage(new Rectangle(3, 200, "solid", "gray"), 81, 500);
          result = result.placeImage(new Rectangle(3, 200, "solid", "gray"), 112, 500);
          result = result.placeImage(new Rectangle(3, 200, "solid", "gray"), 143, 500);
          result = result.placeImage(new Rectangle(3, 200, "solid", "gray"), 174, 500);
          result = result.placeImage(new Rectangle(3, 200, "solid", "gray"), 205, 500);
          result = result.placeImage(new Text("1", 30, "black"), 15, 45);
          result = result.placeImage(new Text("2", 30, "black"), 15, 105);
          result = result.placeImage(new Text("3", 30, "black"), 15, 165);
          result = result.placeImage(new Text("4", 30, "black"), 15, 225);
          result = result.placeImage(new Text("5", 30, "black"), 15, 285);
          result = result.placeImage(new Text("6", 30, "black"), 15, 345);
          result = result.placeImage(new Text("7", 30, "black"), 15, 405);
          int i = 0;
          while(i < this.frets.size()){
             result = this.frets.get(i).drawFret(result);    
             i = i + 1;
         }
          result = this.buttons.draw(this.inst, result);
         return result; 
     }
     
     /** Sets all frets on one string to be unclicked */
     public void emptyString(int string){
         int i = string;
         while(i < this.frets.size()){
             this.frets.get(i).clicked = false;
             
             i = i + 6;
         }
     }
     
     /** Generates the chord from the frets selected. Works by building an ArrayList
      * of the notes in the selected frets, then mutating the chord field. */
     public void makeChord(){
         ArrayList<Note> temp = new ArrayList<Note>();
         int i = 0;
         while(i < frets.size()){
             if(frets.get(i).clicked == true){
                 temp.add(frets.get(i).note);
             }
            i++; 
         }
        chord = temp;    
     }
     
     
     /** Sets the tick rate for the program */
     public double tickRate(){
         return 0.5;
     }
     
     // Detects Mouse clicks on the fretboard and toggles clicked status
     public void onMouse(int x, int y, String event){    
        if(event.equals("button-down")){
            int i = 0;
            while(i<frets.size()){
                if(frets.get(i).isClicked(x,y) && frets.get(i).clicked == true){
                    emptyString(frets.get(i).string);
                    break;
                }
                else{
                    if(frets.get(i).isClicked(x,y) && frets.get(i).clicked == false){
                        emptyString(frets.get(i).string);
                        frets.get(i).clicked = true;
                        break;
                    }
                }
                i++;                
            }
        }    
    }
     
     
     /** Currently just to test what notes are playing */
     public void onKey(String ke){
         if(ke.equals("g")){
             makeChord();
             Chord c = new Chord();
             int i = 0;
             while(i < this.chord.size()){
                 c.addNote(this.chord.get(i));
                 i++;
             }
             Tune chord = new Tune(this.inst, c);
             m.playTune(chord);
         }
     }
     
}

//examples and tests for the guitar
class Examples{
    
    ArrayList<Fret> guitar = new ArrayList<Fret>();
    GuitarWorld start = new GuitarWorld(guitar).initGuitar();

    
    
    

     VoidWorld result = start.bigBang();

    
}

                            </pre>
                            <ul class="list-inline item-details">
                                <li>Client:
                                    <strong><a href="http://startbootstrap.com">Start Bootstrap</a>
                                    </strong>
                                </li>
                                <li>Date:
                                    <strong><a href="http://startbootstrap.com">April 2014</a>
                                    </strong>
                                </li>
                                <li>Service:
                                    <strong><a href="http://startbootstrap.com">Web Development</a>
                                    </strong>
                                </li>
                            </ul>
                            <button type="button" class="btn btn-default" data-dismiss="modal"><i class="fa fa-times"></i> Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="portfolio-modal modal fade" id="portfolioModal3" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-content">
            <div class="close-modal" data-dismiss="modal">
                <div class="lr">
                    <div class="rl">
                    </div>
                </div>
            </div>
            <div class="container">
                <div class="row">
                    <div class="col-lg-8 col-lg-offset-2">
                        <div class="modal-body">
                            <h2>Project Title</h2>
                            <hr class="star-primary">
                            <img src="img/portfolio/circus.png" class="img-responsive img-centered" alt="">
                            <p>Use this area of the page to describe your project. The icon above is part of a free icon set by <a href="https://sellfy.com/p/8Q9P/jV3VZ/">Flat Icons</a>. On their website, you can download their free set with 16 icons, or you can purchase the entire set with 146 icons for only $12!</p>
                            <ul class="list-inline item-details">
                                <li>Client:
                                    <strong><a href="http://startbootstrap.com">Start Bootstrap</a>
                                    </strong>
                                </li>
                                <li>Date:
                                    <strong><a href="http://startbootstrap.com">April 2014</a>
                                    </strong>
                                </li>
                                <li>Service:
                                    <strong><a href="http://startbootstrap.com">Web Development</a>
                                    </strong>
                                </li>
                            </ul>
                            <button type="button" class="btn btn-default" data-dismiss="modal"><i class="fa fa-times"></i> Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="portfolio-modal modal fade" id="portfolioModal4" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-content">
            <div class="close-modal" data-dismiss="modal">
                <div class="lr">
                    <div class="rl">
                    </div>
                </div>
            </div>
            <div class="container">
                <div class="row">
                    <div class="col-lg-8 col-lg-offset-2">
                        <div class="modal-body">
                            <h2>Project Title</h2>
                            <hr class="star-primary">
                            <img src="img/portfolio/game.png" class="img-responsive img-centered" alt="">
                            <p>Use this area of the page to describe your project. The icon above is part of a free icon set by <a href="https://sellfy.com/p/8Q9P/jV3VZ/">Flat Icons</a>. On their website, you can download their free set with 16 icons, or you can purchase the entire set with 146 icons for only $12!</p>
                            <ul class="list-inline item-details">
                                <li>Client:
                                    <strong><a href="http://startbootstrap.com">Start Bootstrap</a>
                                    </strong>
                                </li>
                                <li>Date:
                                    <strong><a href="http://startbootstrap.com">April 2014</a>
                                    </strong>
                                </li>
                                <li>Service:
                                    <strong><a href="http://startbootstrap.com">Web Development</a>
                                    </strong>
                                </li>
                            </ul>
                            <button type="button" class="btn btn-default" data-dismiss="modal"><i class="fa fa-times"></i> Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="portfolio-modal modal fade" id="portfolioModal5" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-content">
            <div class="close-modal" data-dismiss="modal">
                <div class="lr">
                    <div class="rl">
                    </div>
                </div>
            </div>
            <div class="container">
                <div class="row">
                    <div class="col-lg-8 col-lg-offset-2">
                        <div class="modal-body">
                            <h2>Project Title</h2>
                            <hr class="star-primary">
                            <img src="img/portfolio/safe.png" class="img-responsive img-centered" alt="">
                            <p>Use this area of the page to describe your project. The icon above is part of a free icon set by <a href="https://sellfy.com/p/8Q9P/jV3VZ/">Flat Icons</a>. On their website, you can download their free set with 16 icons, or you can purchase the entire set with 146 icons for only $12!</p>
                            <ul class="list-inline item-details">
                                <li>Client:
                                    <strong><a href="http://startbootstrap.com">Start Bootstrap</a>
                                    </strong>
                                </li>
                                <li>Date:
                                    <strong><a href="http://startbootstrap.com">April 2014</a>
                                    </strong>
                                </li>
                                <li>Service:
                                    <strong><a href="http://startbootstrap.com">Web Development</a>
                                    </strong>
                                </li>
                            </ul>
                            <button type="button" class="btn btn-default" data-dismiss="modal"><i class="fa fa-times"></i> Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="portfolio-modal modal fade" id="portfolioModal6" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-content">
            <div class="close-modal" data-dismiss="modal">
                <div class="lr">
                    <div class="rl">
                    </div>
                </div>
            </div>
            <div class="container">
                <div class="row">
                    <div class="col-lg-8 col-lg-offset-2">
                        <div class="modal-body">
                            <h2>Project Title</h2>
                            <hr class="star-primary">
                            <img src="img/portfolio/submarine.png" class="img-responsive img-centered" alt="">
                            <ul class="list-inline item-details">
                                <li>Client:
                                    <strong><a href="http://startbootstrap.com">Start Bootstrap</a>
                                    </strong>
                                </li>
                                <li>Date:
                                    <strong><a href="http://startbootstrap.com">April 2014</a>
                                    </strong>
                                </li>
                                <li>Service:
                                    <strong><a href="http://startbootstrap.com">Web Development</a>
                                    </strong>
                                </li>
                            </ul>
                            <button type="button" class="btn btn-default" data-dismiss="modal"><i class="fa fa-times"></i> Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- jQuery -->
    <script src="js/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="js/bootstrap.min.js"></script>

    <!-- Google prettify plugin -->
    <script type="text/javascript" src="./js/prettify.js"></script>

    <!-- Plugin JavaScript -->
    <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>
    <script src="js/classie.js"></script>
    <script src="js/cbpAnimatedHeader.js"></script>

    <!-- Contact Form JavaScript -->
    <script src="js/jqBootstrapValidation.js"></script>
    <script src="js/contact_me.js"></script>

    <!-- Custom Theme JavaScript -->
    <script src="js/freelancer.js"></script>

</body>

</html>
